<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- <script type="module" src="callback_auth.mjs" ></script> -->
     <script type="module" src="callback.mjs" defer></script>
    <script type="module" src="search.mjs" defer></script>
    <script type="module" src="drag_drop.mjs" defer></script>
    <link rel="stylesheet" href="callback.css" >
  </head>
  <body>
    <h1>ENTER THE NAME OF AN ALBUM YOU'D LIKE TO RATE</h1>
    <!-- <button id="body">CONTINUE</button> -->
    <form id="album_submit">
      <label for="album_name">Album Name: </label><br />
      <input type="text" name="album_name" id="album_name" />
    </form>
    
    <ol id="track_listing"></ol>
    <button id="download_button">Download</button>
    <script src="./html2canvas.min.js"></script>
    <script>
      // import html2canvas from 'html2canvas'
      
      document.getElementById("download_button").addEventListener("click", (e) => {  
        console.log("clicked")
        
        const screenshotDiv = document.getElementById("track_listing")
        
        html2canvas(screenshotDiv).then((canvas) => {
          const b64image = canvas.toDataURL("image/png")
          var a = document.createElement('a')
          a.setAttribute('href', b64image);
          a.setAttribute('download', 'song-list.png')
          a.click();
        })
      })
      </script>

      </body>
</html>
